<div class="container">
  <p id="notice"><%= notice %></p>  

    <!-- Creates a loop of @posts.count / 3 arrays -->
    <% @events.in_groups_of(3).each do |event_array| %>
    <div class="row">
        <!-- For each post in the array, give it a class of "col-4" which is 3 per row-->
        <% event_array.each do |event| %>
        <!-- If posts.count = 4, last array will be [post4, nil, nil] so if it's nil, don't do anything or you'll get an error-->
        <%  unless event.nil? %>
        <div class="col-4">
            <div class="card p-3 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="d-flex flex-row align-items-center">
                        <div class="icon"> <i class="bx bxl-mailchimp"></i> </div>
                        <%# <div class="ms-2 c-details">
                            <h6 class="mb-0">Mailchimp</h6> <span>1 days ago</span>
                        </div> %>
                        <div class="ms-2 c-details">
                            <h6 class="mb-0"><%= link_to event.organizer.name, event.organizer, class:"link" %></h6> <span>1 days ago</span>
                        </div>
                    </div>
                    <%# <div class="badge"> <span>Design</span> </div> %>
                </div>
                <div class="mt-5">
                    <h3 class="heading"><%= event.name%></h3>
                    <details>
                      <summary>Learn More</summary>
                        <p><%= event.description %></p>
                    </details>
                    <div class="mt-5">
                        <div class="progress">
                            <div class="progress-bar" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="mt-3"> <span class="text1">xx Participants <span class="text2">of 50 capacity</span></span> </div>
                    </div>
                </div>
            </div>
            <br>
        </div>
        <!-- Ends the "unless post.nil" block -->
        <% end %>
        <!-- Ends the "post_array.each" block -->
        <% end %>
    </div>
    <!-- Ends the "@posts.in_groups_of" block -->
    <% end %>
    <style>
      body {
          background-color: #eee
      }

      .card {
          border: none;
          border-radius: 10px
      }

      .c-details span {
          font-weight: 300;
          font-size: 13px
      }

      .icon {
          width: 50px;
          height: 50px;
          background-color: #eee;
          border-radius: 15px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 39px
      }

      .badge span {
          background-color: #fffbec;
          width: 60px;
          height: 25px;
          padding-bottom: 3px;
          border-radius: 5px;
          display: flex;
          color: #fed85d;
          justify-content: center;
          align-items: center
      }

      .progress {
          height: 10px;
          border-radius: 10px
      }

      .progress div {
          background-color: 003478
      }

      .text1 {
          font-size: 14px;
          font-weight: 600
      }

      .text2 {
          color: #a5aec0;
      }

      .link{
          color: black;
          text-decoration:none; 
      }
      .link:hover{
          color:white;
      }
     

    </style>
  <%= link_to 'New Event', new_event_path %>
</div>


<%# <style>
    body {background-color:white;}
    h1   {color: black;}
    p    {color: black;}
    .card {background-color:#f5f4f0}
    .card {color:00295E}
    .card-text {color:00295E}
    .list-group-item {background-color:white}

</style> %>
<p id="notice"><%= notice %></p>
<br>
<div class="container">
<div class="row">
  <% @events.each do |event| %>
    <div class="col-sm">
      <div class="card" style="width: 18rem;">
        <img class="card-img-top" src="..." alt="Card image cap">
        <div class="card-body">
          <h5 class="card-title"><%= event.name %></h5>
          <p class="card-text"><%= event.description %></p>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">Organizer: <%= link_to event.organizer.name, event.organizer %></li>
        </ul>
        <div class="card-body">
          <a href="#" class="card-link"><%= link_to 'Show', event %></a>
          <a href="#" class="card-link"><%= link_to 'Edit', edit_event_path(event) %></a>
          <a href="#" class="card-link"><%= link_to 'Destroy', event, method: :delete, data: { confirm: 'Are you sure?' } %></a>
        </div>
      </div>
    </div>
  <% end %>
</div>
</div>

<br>

<%= link_to 'New Event', new_event_path %>
